= Contexte de la mission
:imagesdir: assets/default

== 511 clusters Kubernetes

[NOTE.speaker]
====
* Kubernetes: orchestrateur de containeurs

ğŸ•’ Contraintes temporelles :
* DurÃ©e de crÃ©ation d'un cluster: minimum 5 minutes

ğŸª‚ Approche stratÃ©gique : y aller palier par palier

ğŸ› ï¸ Outils : Infrastructure As Code:
* automatisation
* rÃ©pÃ©titivitÃ©
* changement du nombre de clusters rapide
====

== Couche rÃ©seau
=== Plugin Container Network Interface (CNI)

[NOTE.speaker]
====
Objectif principal: Ã‰tablir une communication entre containers sur des serveurs distincts.
* Technologies en prÃ©sence :
  * ğŸ† Calico
  * ğŸ” Kube-router
  * ğŸ§¬ Cilium
====

== !
=== Kube-Proxy

[NOTE.speaker]
====
Objectif principal: Load balancer du rÃ©seau Kubernetes

* Mode dâ€™activation : DÃ©clenchÃ© Ã  la crÃ©ation dâ€™une ressource *Service*
* Technologie utilisÃ©e :
  * BasÃ© sur iptables
  * ipvs (alternative plus performante)
  * nftables (remplaÃ§ant imminent)
====

== Cilium

ğŸ‘ï¸ Hubble

ğŸ” CNP & chiffrement

ğŸ§¬ Service Mesh intÃ©grÃ©

ğŸï¸ Suppression de kube-proxy

[NOTE.speaker]
====
Exemple de fonctionnalitÃ© :
* ğŸ‘ï¸ Hubble â€” ObservabilitÃ© rÃ©seau
* ğŸ” CNP & chiffrement â€” ZÃ©ro trust
* ğŸ§¬ Service Mesh intÃ©grÃ©
* ğŸï¸ Suppression de kube-proxy

Technologies embarquÃ©es :
* eBPF: exÃ©cute du code dans le noyau Ã  la volÃ©e
====

== Cilium Cluster Mesh

[NOTE.speaker]
====
ğŸ¯ Objectif :
  * Permettre Ã  des pods situÃ©s dans des clusters distants de se parler
  * Pas de LoadBalancer

ğŸš§ Conditions dâ€™activation :
  * ğŸ”€ RÃ©seaux de pods disjoints
  * ğŸŒ Noeuds routables entre clusters
  * â›” Limite classique : 255 clusters
  * ğŸ§ª NouveautÃ© 1.15 : 511 clusters possibles
====

== Communication entre deux clusters

[NOTE.speaker]
====
* Configurations Mesh disponibles :
  * Cas 1 â€” A <=> B : Communication bidirectionnelle
  * Cas 2 â€” A => B : Un canal unilatÃ©ral
  * Cas 3 â€” A <= B : Lâ€™inverse, toujours Ã  sens unique
====

== Communication entre 511 clusters

video::256-clusters.mp4[opts=autoplay,loop,muted,role=center,width=50%]

[NOTE.speaker]
====
ğŸ“ˆ Nombre total de communications Ã  Ã©tablir :
  * ğŸ§® 511Ã—510/2 = 130 305 liens
  * ğŸ•’ DurÃ©e de crÃ©ation dâ€™un lien : 15 secondes
  * Temps total estimÃ© : â±ï¸ 542 heures (22 jours)

* Comment parallÃ©liser ?
====


== VÃ©rification de la communication
ğŸ¯ sâ€™assurer que la connexion est opÃ©rationnelle.

[NOTE.speaker]
====
ğŸ¯ sâ€™assurer que la connexion est opÃ©rationnelle.

* Ennemis Ã  dÃ©fier :
  * â³ Temps de test long
  * ğŸ§© Taille des serveurs rÃ©duite = ressources limitÃ©es
====

== DÃ©roulÃ© des opÃ©rations

ğŸ’° Budget serrÃ©

ğŸŒ«ï¸ Solution Cloud

[NOTE.speaker]
====
* CrÃ©ation massive sous haute contrainte :
* â³ 4 heures chrono pour lâ€™intÃ©gralitÃ© de lâ€™opÃ©ration.
====

== DÃ©roulÃ© de chaque opÃ©ration

ğŸš€ Provisionner les 511 clusters

ğŸ”— Connecter chacun Ã  tous les autres

ğŸ§ª Tester la communication

ğŸ’£ DÃ©truire proprement

ğŸ§¼ VÃ©rifier que rien nâ€™a survÃ©cu

== Briser le quatriÃ¨me mur

ğŸ¬ asciinema

ğŸï¸ Kdenlive

ğŸŒ YouTube

[NOTE.speaker]
====
ğŸ“¹ Objectif : Documenter l'opÃ©ration seconde par seconde

ğŸ§° Outils dâ€™enregistrement :
* ğŸ–¥ï¸ asciinema : capture du terminal
* ğŸï¸ asciinema-scene : rythme et tension

Post-prod:
* ğŸ¬ Kdenlive : effets visuels et explication

ğŸŒ Diffusion :
* ğŸ“¡ Upload sur YouTube
====

= EntraÃ®nement de l'agent

== Terrain dâ€™exercice : Kind

* Un seul serveur
* Docker

[NOTE.speaker]
====
Distribution Kubernetes
* Kubernetes IN Docker

ğŸ“ Pourquoi Kind ?
* ğŸ” Rapide Ã  dÃ©ployer
* ğŸ› ï¸ IdÃ©al pour les tests et les expÃ©rimentations
====

== CI/CD : GitHub Action

[NOTE.speaker]
====
* Mission rÃ©pÃ©table Ã  volontÃ©
* Automatisation totale
  *  Chaque commit, chaque PR, dÃ©clenche un test de dÃ©ploiement
* "Gratuit"
* VM temporaires avec 4 CPU pour simuler des missions
* Tests en environnement contrÃ´lÃ©
====
